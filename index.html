<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>SN Perfumes - Sorteo ganador 🎉</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Anton&display=swap');

  body {
    background: linear-gradient(135deg, #1f1c2c, #928dab);
    color: #fff;
    font-family: 'Anton', sans-serif;
    margin: 0; padding: 0;
    display: flex; flex-direction: column; align-items: center;
    min-height: 100vh;
  }
  header {
    position: fixed;
    top: 10px;
    left: 10px;
  }
  header img {
    height: 40px;
    filter: drop-shadow(0 0 3px #fff);
  }

  main {
    margin-top: 100px;
    width: 90%;
    max-width: 480px;
    text-align: center;
  }

  /* WINNER animación con luces */

  .winner-container {
    position: relative;
    margin-bottom: 40px;
    width: 280px;
    height: 120px; /* aumenté altura para nombre y reseña */
    margin-left: auto;
    margin-right: auto;
  }

  .winner-text {
    font-size: 3.5rem;
    color: #ffeb3b;
    text-shadow:
      0 0 10px #fff,
      0 0 20px #fdd835,
      0 0 30px #fbc02d,
      0 0 40px #fbc02d,
      0 0 50px #fbc02d;
    position: relative;
    z-index: 10;
    letter-spacing: 0.15em;
  }

  /* Nombre del ganador */
  #winnerName {
    font-size: 1.8rem;
    margin-top: 8px;
    color: #ffd600;
    font-family: 'Arial Black', Gadget, sans-serif;
    text-shadow:
      0 0 5px #fff,
      0 0 10px #ffea00;
  }

  /* Reseña del ganador */
  #winnerReview {
    font-size: 1.2rem;
    margin-top: 6px;
    color: #fffde7cc;
    font-style: italic;
    font-family: 'Arial', sans-serif;
    max-width: 280px;
    margin-left: auto;
    margin-right: auto;
  }

  .light-circle {
    position: absolute;
    top: 50%; left: 50%;
    width: 260px;
    height: 60px;
    margin-top: -30px;
    margin-left: -130px;
    border-radius: 50% / 100%;
    pointer-events: none;
  }

  .light-circle span {
    position: absolute;
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: linear-gradient(45deg, #ffd600, #ff6f00);
    box-shadow: 0 0 8px 2px #ff6f00;
    animation: blink 2s infinite ease-in-out;
  }

  /* Posiciones de los "focos" */
  .light-circle span:nth-child(1)  { top: 5px; left: 10%; animation-delay: 0s; }
  .light-circle span:nth-child(2)  { top: 0;  left: 25%; animation-delay: 0.2s; }
  .light-circle span:nth-child(3)  { top: 5px; left: 40%; animation-delay: 0.4s; }
  .light-circle span:nth-child(4)  { top: 15px; left: 55%; animation-delay: 0.6s; }
  .light-circle span:nth-child(5)  { top: 30px; left: 68%; animation-delay: 0.8s; }
  .light-circle span:nth-child(6)  { top: 45px; left: 80%; animation-delay: 1s; }
  .light-circle span:nth-child(7)  { top: 45px; left: 92%; animation-delay: 1.2s; }
  .light-circle span:nth-child(8)  { top: 45px; left: 98%; animation-delay: 1.4s; }

  @keyframes blink {
    0%, 100% { opacity: 0.2; transform: scale(1); }
    50% { opacity: 1; transform: scale(1.3); }
  }

  /* Animación de rotación */
  .light-circle {
    animation: rotateLights 8s linear infinite;
  }

  @keyframes rotateLights {
    0% { transform: translate(-50%, -50%) rotate(0deg); }
    100% { transform: translate(-50%, -50%) rotate(360deg); }
  }

  /* Botón tipo ruleta grande */

  #sortBtn {
    background: radial-gradient(circle at center, #ff3c00, #990000);
    color: #fff;
    font-family: 'Anton', sans-serif;
    font-size: 2.2rem;
    padding: 20px 40px;
    border: none;
    border-radius: 60px;
    box-shadow:
      0 0 15px #ff3c00,
      inset 0 0 10px #ff3c00;
    cursor: pointer;
    transition: 0.3s ease;
    margin-bottom: 30px;
    user-select: none;
  }
  #sortBtn:hover {
    box-shadow:
      0 0 25px #ff6a2c,
      inset 0 0 15px #ff6a2c;
    background: radial-gradient(circle at center, #ff6a2c, #b32500);
  }

  /* Lista participantes */

  #participantsList {
    background: rgba(255 255 255 / 0.15);
    border-radius: 12px;
    max-height: 240px;
    overflow-y: auto;
    padding: 12px 20px;
    margin-bottom: 30px;
    text-align: left;
    font-family: Arial, sans-serif;
    font-weight: 700;
    font-size: 1.1rem;
  }

  #participantsList li {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 8px;
  }

  #participantsList li button {
    background: transparent;
    border: none;
    color: #ff4c4c;
    font-weight: 900;
    cursor: pointer;
    font-size: 1.2rem;
    transition: color 0.3s ease;
  }
  #participantsList li button:hover {
    color: #ff0000;
  }

  /* Form agregar participante */

  #addParticipantForm {
    display: flex;
    justify-content: center;
    margin-bottom: 30px;
    gap: 10px;
  }
  #newName {
    flex-grow: 1;
    padding: 10px 15px;
    font-size: 1.1rem;
    border-radius: 30px;
    border: none;
    outline: none;
  }
  #addBtn {
    background: #0066ff;
    color: white;
    font-weight: 700;
    border: none;
    border-radius: 30px;
    padding: 10px 25px;
    cursor: pointer;
    font-size: 1.1rem;
    transition: background-color 0.3s ease;
  }
  #addBtn:hover {
    background: #004ecc;
  }

  /* Confetti */

  .confetti-piece {
    position: fixed;
    width: 10px;
    height: 10px;
    background-color: #fce18a;
    opacity: 0.9;
    z-index: 9999;
    pointer-events: none;
    animation: confetti-fall 3s forwards ease-out;
  }
  @keyframes confetti-fall {
    0% {
      transform: translateY(0) rotate(0deg);
      opacity: 1;
    }
    100% {
      transform: translateY(600px) rotate(360deg);
      opacity: 0;
    }
  }

.winner-text {
  visibility: hidden;
}
</style>
</head>
<body>

<header>
  <img src="https://cdn.shopify.com/s/files/1/0750/9042/8137/files/IMG_4920.jpg?v=1749940220" alt="SN Perfumes Logo" />
</header>

<main>
  <div class="winner-container" aria-live="polite" aria-atomic="true" aria-relevant="text">
    <div class="winner-text" id="winnerText">🎉 WINNER 🎉</div>
    <div id="winnerName"></div>
    <div id="winnerReview"></div>
    <img id="winnerImage" alt="Foto ganador" style="max-width: 180px; max-height: 180px; border-radius: 12px; margin-top: 10px; display:none;" />
    <div class="light-circle" aria-hidden="true">
      <span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span>
    </div>
  </div>

<!-- Nuevo: Logo y texto arriba del botón -->
  <div id="raffleHeader" style="text-align:center; margin-bottom: 20px;">
    <img src="https://cdn.shopify.com/s/files/1/0750/9042/8137/files/IMG_4920.jpg?v=1749940220" alt="SN Perfumes Logo" style="height: 80px; margin-bottom: 10px;" />
    <h1 style="font-family: 'Anton', sans-serif; font-size: 3rem; color: #ffd600; text-shadow: 0 0 8px #ff6f00;">Rifa 2025 SN Perfumes</h1>
  </div>

  <button id="sortBtn" aria-label="Sortear ganador">¡Gira la ruleta y elige ganador!</button>
  </main>
    
    <script>
  // Confetti generador
  function createConfettiPiece() {
    const confetti = document.createElement('div');
    confetti.classList.add('confetti-piece');
    confetti.style.left = Math.random() * window.innerWidth + 'px';
    confetti.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 75%)`;
    confetti.style.animationDuration =  (2 + Math.random() * 2) + 's';
    confetti.style.width = confetti.style.height = (6 + Math.random() * 8) + 'px';
    document.body.appendChild(confetti);
    setTimeout(() => {
      confetti.remove();
    }, 3000);
  }

  function launchConfetti() {
    for (let i = 0; i < 100; i++) {
      setTimeout(createConfettiPiece, i * 15);
    }
  }

function animateWinnerReveal(winnerObj) {
  const raffleHeader = document.getElementById('raffleHeader');
  const winnerText = document.getElementById('winnerText');
  const winnerName = document.getElementById('winnerName');
  const winnerReview = document.getElementById('winnerReview');
  const winnerImage = document.getElementById('winnerImage');
  const sortBtn = document.getElementById('sortBtn');

  // Ocultamos logo, título y botón
  raffleHeader.style.display = 'none';
  sortBtn.style.display = 'none';

  // Ocultamos el contenedor que tenía el nombre ganador separado
  winnerName.style.display = 'none';

  // Estilos para winnerText (nombre grande)
  winnerText.style.visibility = 'visible';
  winnerText.style.fontSize = '4rem';
  winnerText.style.color = '#ffd600';
  winnerText.style.fontWeight = 'bold';
  winnerText.style.textAlign = 'center';
  winnerText.style.marginBottom = '1rem';

  // Estilos para la reseña
  winnerReview.style.fontSize = '1.5rem';
  winnerReview.style.color = '#000000';
  winnerReview.style.fontStyle = 'italic';
  winnerReview.style.textAlign = 'center';
  winnerReview.style.margin = '0 auto';
  winnerReview.style.maxWidth = '700px';
  winnerReview.style.display = 'block';

  // Preparar animación
  winnerText.textContent = '...';
  winnerReview.textContent = '';
  winnerImage.style.display = 'none';  // ocultar imagen antes de animar

  sortBtn.disabled = true;

  let iterations = 100;
  let interval = 80;
  let index = 0;

  let animationInterval = setInterval(() => {
    winnerText.textContent = participants[index % participants.length].name.toUpperCase();
    index++;
    iterations--;
    if (iterations <= 0) {
      clearInterval(animationInterval);
      winnerText.textContent = `🎉 ${winnerObj.name.toUpperCase()} 🎉`;
      winnerReview.textContent = `"${winnerObj.review || ''}"`;
      // Mostrar imagen del ganador
      winnerImage.src = winnerObj.img;
      winnerImage.style.display = 'block';
      launchConfetti();
    }
  }, interval);
}

  const participants = [
  { name: "Marisol Vega", img: "screanshot/WhatsApp Image 2025-08-11 at 6.11.32 PM.jpeg" },
  { name: "Héctor Jiménez", img: "screanshot/WhatsApp Image 2025-08-11 at 6.11.31 PM (1).jpeg" },
  { name: "Silvia Castro", img: "screanshot/WhatsApp Image 2025-08-11 at 6.11.31 PM (2).jpeg" },
  { name: "Raquel Moreno", img: "screanshot/WhatsApp Image 2025-08-11 at 6.11.31 PM.jpeg" },
  { name: "Enrique Ramírez", img: "screanshot/WhatsApp Image 2025-08-11 at 6.11.30 PM (3).jpeg" },
  { name: "Sandra Castillo", img: "screanshot/WhatsApp Image 2025-08-11 at 6.11.30 PM (2).jpeg" },
  { name: "Javier Navarro", img: "screanshot/WhatsApp Image 2025-08-11 at 6.11.30 PM (1).jpeg" },
  { name: "Elena Moreno", img: "screanshot/WhatsApp Image 2025-08-11 at 6.11.30 PM.jpeg" },
  { name: "David Salinas", img: "screanshot/WhatsApp Image 2025-08-11 at 6.11.29 PM (3).jpeg" },
  { name: "Lorena Díaz", img: "screanshot/WhatsApp Image 2025-08-11 at 6.11.29 PM (2).jpeg" },
  { name: "Carlos Mendoza", img: "screanshot/WhatsApp Image 2025-08-11 at 6.11.29 PM (1).jpeg" },
  { name: "Natalia Fuentes", img: "screanshot/WhatsApp Image 2025-08-11 at 6.11.29 PM.jpeg" },
  { name: "Clara Romero", img: "screanshot/WhatsApp Image 2025-08-11 at 6.11.28 PM.jpeg" },
  { name: "Ernesto Vargas", img: "screanshot/WhatsApp Image 2025-08-11 at 6.10.54 PM.jpeg" },
  { name: "Jessica López", img: "screanshot/WhatsApp Image 2025-08-11 at 6.10.53 PM (4).jpeg" },
  { name: "Alfonso Rojas", img: "screanshot/WhatsApp Image 2025-08-11 at 6.10.53 PM (3).jpeg" },
  { name: "Marcela Castillo", img: "screanshot/WhatsApp Image 2025-08-11 at 6.10.53 PM (2).jpeg" },
  { name: "Felipe Cruz", img: "screanshot/WhatsApp Image 2025-08-11 at 6.10.53 PM (1).jpeg" },
  { name: "Ivonne Pacheco", img: "screanshot/WhatsApp Image 2025-08-11 at 6.10.53 PM.jpeg" },
  { name: "Roberto Mendoza", img: "screanshot/WhatsApp Image 2025-08-11 at 6.10.52 PM (2).jpeg" },
  { name: "Verónica Ruiz", img: "screanshot/WhatsApp Image 2025-08-11 at 6.10.52 PM (1).jpeg" },
  { name: "Diego Salazar", img: "screanshot/WhatsApp Image 2025-08-11 at 6.10.52 PM.jpeg" },
  { name: "Patricia Molina", img: "screanshot/WhatsApp Image 2025-08-11 at 6.10.51 PM (2).jpeg" },
  { name: "Javier León", img: "screanshot/WhatsApp Image 2025-08-11 at 6.10.51 PM (1).jpeg" },
  { name: "Monserrat Herrera", img: "screanshot/WhatsApp Image 2025-08-11 at 6.10.51 PM.jpeg" },
  { name: "Sergio Ortega", img: "screanshot/WhatsApp Image 2025-08-11 at 6.10.50 PM (2).jpeg" },
  { name: "Lorena Torres", img: "screanshot/WhatsApp Image 2025-08-11 at 6.10.50 PM (1).jpeg" },
  { name: "Cristian Vega", img: "screanshot/WhatsApp Image 2025-08-11 at 6.10.50 PM.jpeg" },
  { name: "María Ramírez", img: "screanshot/WhatsApp Image 2025-08-11 at 6.10.49 PM (3).jpeg" },
  { name: "Jorge Herrera", img: "screanshot/WhatsApp Image 2025-08-11 at 6.10.49 PM (4).jpeg" },
  { name: "Ana Gómez", img: "screanshot/WhatsApp Image 2025-08-11 at 6.10.49 PM (2).jpeg" },
  { name: "Eduardo Castro", img: "screanshot/WhatsApp Image 2025-08-11 at 6.10.49 PM (1).jpeg" },
  { name: "Liliana Pérez", img: "screanshot/WhatsApp Image 2025-08-11 at 6.10.49 PM.jpeg" },
  { name: "Andrés Salinas", img: "screanshot/WhatsApp Image 2025-08-11 at 6.10.48 PM (3).jpeg" },
  { name: "Sonia Morales", img: "screanshot/WhatsApp Image 2025-08-11 at 6.10.48 PM (2).jpeg" },
  { name: "Guillermo Ruiz", img: "screanshot/WhatsApp Image 2025-08-11 at 6.10.48 PM (1).jpeg" },
  { name: "Claudia Sánchez", img: "screanshot/WhatsApp Image 2025-08-11 at 6.10.48 PM.jpeg" },
  { name: "Francisco Ortega", img: "screanshot/WhatsApp Image 2025-08-11 at 6.08.54 PM (1).jpeg" },
  { name: "Karen Martínez", img: "screanshot/WhatsApp Image 2025-08-11 at 6.08.54 PM.jpeg" },
  { name: "Mauricio López", img: "screanshot/WhatsApp Image 2025-08-11 at 6.08.53 PM (3).jpeg" },
  { name: "Paola Jiménez", img: "screanshot/WhatsApp Image 2025-08-11 at 6.08.53 PM (2).jpeg" },
  { name: "Ricardo Morales", img: "screanshot/WhatsApp Image 2025-08-11 at 6.08.53 PM (1).jpeg" },
  { name: "Verónica Sánchez", img: "screanshot/WhatsApp Image 2025-08-11 at 6.08.53 PM.jpeg" },
  { name: "Alfredo Castillo", img: "screanshot/WhatsApp Image 2025-08-11 at 6.08.52 PM (2).jpeg" },
  { name: "María Salinas", img: "screanshot/WhatsApp Image 2025-08-11 at 6.08.52 PM (1).jpeg" },
  { name: "Carlos Ramírez", img: "screanshot/WhatsApp Image 2025-08-11 at 6.08.52 PM.jpeg" },
  { name: "Ana Torres", img: "screanshot/WhatsApp Image 2025-08-11 at 6.08.51 PM (2).jpeg" },
  { name: "Juan Pérez", img: "screanshot/WhatsApp Image 2025-08-11 at 6.08.51 PM (1).jpeg" },
  { name: "Laura Morales", img: "screanshot/WhatsApp Image 2025-08-11 at 6.08.51 PM.jpeg" },
  { name: "David Gómez", img: "screanshot/WhatsApp Image 2025-08-11 at 6.08.50 PM (2).jpeg" },
  { name: "Sandra Hernández", img: "screanshot/WhatsApp Image 2025-08-11 at 6.08.50 PM (1).jpeg" },
  { name: "Ernesto Ruiz", img: "screanshot/WhatsApp Image 2025-08-11 at 6.08.50 PM.jpeg" },
  { name: "Patricia Mendoza", img: "screanshot/WhatsApp Image 2025-08-11 at 6.08.49 PM (2).jpeg" },
  { name: "Carlos Herrera", img: "screanshot/WhatsApp Image 2025-08-11 at 6.08.49 PM (1).jpeg" },
  { name: "Claudia González", img: "screanshot/WhatsApp Image 2025-08-11 at 6.08.49 PM.jpeg" },
  { name: "Jorge Salinas", img: "screanshot/WhatsApp Image 2025-08-11 at 6.08.48 PM (2).jpeg" },
  { name: "Lorena Pérez", img: "screanshot/WhatsApp Image 2025-08-11 at 6.08.48 PM (1).jpeg" },
  { name: "Manuel Ruiz", img: "screanshot/WhatsApp Image 2025-08-11 at 6.08.48 PM.jpeg" },
  { name: "Gabriela Castillo", img: "screanshot/WhatsApp Image 2025-08-11 at 6.08.47 PM (2).jpeg" },
  { name: "Eduardo Mendoza", img: "screanshot/WhatsApp Image 2025-08-11 at 6.08.47 PM (1).jpeg" },
  { name: "Sofía Ramírez", img: "screanshot/WhatsApp Image 2025-08-11 at 6.08.47 PM.jpeg" },
  { name: "Pablo Torres", img: "screanshot/WhatsApp Image 2025-08-11 at 6.08.46 PM (2).jpeg" },
  { name: "Mónica Salinas", img: "screanshot/WhatsApp Image 2025-08-11 at 6.08.46 PM (1).jpeg" },
  { name: "Javier Gómez", img: "screanshot/WhatsApp Image 2025-08-11 at 6.08.46 PM.jpeg" },
  { name: "Verónica Morales", img: "screanshot/WhatsApp Image 2025-08-11 at 6.08.45 PM (2).jpeg" }
];

  // Evento sorteo
  sortBtn.addEventListener('click', () => {
    if (participants.length === 0) {
      alert('Agrega participantes para sortear.');
      return;
    }
    const winnerIndex = Math.floor(Math.random() * participants.length);
    const winnerObj = participants[winnerIndex];
    animateWinnerReveal(winnerObj);
  });
</script>

</body>
</html>